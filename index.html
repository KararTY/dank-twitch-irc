<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@kararty/dank-twitch-irc</title><meta name="description" content="Documentation for @kararty/dank-twitch-irc"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@kararty/dank-twitch-irc</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@kararty/dank-twitch-irc </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#dank-twitch-irc" id="dank-twitch-irc" style="color: inherit; text-decoration: none;">
  <h1>dank-twitch-irc</h1>
</a>
<p>This package is a fork of <a href="https://github.com/robotty/dank-twitch-irc">robotty/dank-twitch-irc</a>, with additional code from <a href="https://github.com/fmalk/dank-twitch-irc">fmalk/dank-twitch-irc</a> &amp; <a href="https://github.com/amazeful/amazeful-twitch-irc">amazeful/amazeful-twitch-irc</a>.</p>
<p><img src="https://github.com/kararty/dank-twitch-irc/workflows/Build/badge.svg" alt="Build"></p>
<p>Node.js-only Twitch IRC lib, written in TypeScript.</p>
<p>Requires Node.js 14 or above.</p>
<ul>
<li><a href="https://github.com/kararty/dank-twitch-irc">View on GitHub</a></li>
<li><a href="https://www.npmjs.com/package/@kararty/dank-twitch-irc">View on npm</a></li>
<li><a href="https://kararty.github.io/dank-twitch-irc/">View documentation</a></li>
</ul>
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->


<a href="#table-of-contents" id="table-of-contents" style="color: inherit; text-decoration: none;">
  <h2>Table of Contents</h2>
</a>
<ul>
<li><a href="#usage">Usage</a></li>
<li><a href="#available-client-events">Available client events</a></li>
<li><a href="#handling-usernotice-messages">Handling <code>USERNOTICE</code> messages</a><ul>
<li><a href="#sub-and-resub">Sub and resub</a></li>
<li><a href="#incoming-raids">Incoming raids</a></li>
<li><a href="#subgift">Subgift</a></li>
<li><a href="#anonsubgift">Anonsubgift</a></li>
<li><a href="#anongiftpaidupgrade-giftpaidupgrade">anongiftpaidupgrade, giftpaidupgrade</a></li>
<li><a href="#ritual">ritual</a></li>
<li><a href="#bitsbadgetier">bitsbadgetier</a></li>
</ul>
</li>
<li><a href="#chatclient-api">ChatClient API</a></li>
<li><a href="#api-documentation">API Documentation</a></li>
<li><a href="#client-options">Client options</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#extra-mixins">Extra Mixins</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#lint-and-check-code-style">Lint and check code style</a></li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->


<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<pre><code class="language-javascript"><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">ChatClient</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&quot;@kararty/dank-twitch-irc&quot;</span><span class="hl-1">);</span><br/><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ChatClient</span><span class="hl-1">();</span><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;ready&quot;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Successfully connected to chat&quot;</span><span class="hl-1">));</span><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;close&quot;</span><span class="hl-1">, (</span><span class="hl-5">error</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1"> != </span><span class="hl-0">null</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">error</span><span class="hl-1">(</span><span class="hl-4">&quot;Client closed due to error&quot;</span><span class="hl-1">, </span><span class="hl-5">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;PRIVMSG&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">`[#</span><span class="hl-0">${</span><span class="hl-5">msg</span><span class="hl-7">.</span><span class="hl-5">channelName</span><span class="hl-0">}</span><span class="hl-4">] </span><span class="hl-0">${</span><span class="hl-5">msg</span><span class="hl-7">.</span><span class="hl-5">displayName</span><span class="hl-0">}</span><span class="hl-4">: </span><span class="hl-0">${</span><span class="hl-5">msg</span><span class="hl-7">.</span><span class="hl-5">messageText</span><span class="hl-0">}</span><span class="hl-4">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-8">// See below for more events</span><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">connect</span><span class="hl-1">();</span><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">join</span><span class="hl-1">(</span><span class="hl-4">&quot;forsen&quot;</span><span class="hl-1">);</span>
</code></pre>

<a href="#available-client-events" id="available-client-events" style="color: inherit; text-decoration: none;">
  <h2>Available client events</h2>
</a>
<ul>
<li><p><strong><code>client.on(&quot;connecting&quot;, () =&gt; { /* ... */ })</code></strong>: Called when the client
starts connecting for the first time.</p>
</li>
<li><p><strong><code>client.on(&quot;connect&quot;, () =&gt; { /* ... */ })</code></strong>: Called when the client
connects for the first time. This is called when the transport layer
connections (e.g. TCP or WebSocket connection is established), not when login
to IRC succeeds.</p>
</li>
<li><p><strong><code>client.on(&quot;ready&quot;, () =&gt; { /* ... */ })</code></strong>: Called when the client becomes
ready for the first time (login to the chat server is successful.)</p>
</li>
<li><p><strong><code>client.on(&quot;close&quot;, (error?: Error) =&gt; { /* ... */ })</code></strong>: Called when the
client is terminated as a whole. Not called for individual connections that
were disconnected. Can be caused for example by a invalid OAuth token (failure
to login), or when <code>client.close()</code> or <code>client.destroy()</code> was called. <code>error</code>
is only non-null if the client was closed by a call to <code>client.close()</code>.</p>
</li>
<li><p><strong><code>client.on(&quot;error&quot;, (error: Error?) =&gt; { /* ... */ })</code></strong>: Called when any
error occurs on the client, including non-fatal errors such as a message that
could not be delivered due to an error.</p>
</li>
<li><p><strong><code>client.on(&quot;rawCommand&quot;, (cmd: string) =&gt; { /* ... */ })</code></strong>: Called when any
command is executed by the client.</p>
</li>
<li><p><strong><code>client.on(&quot;message&quot;, (message: IRCMessage) =&gt; { /* ... */ })</code></strong>: Called on
every incoming message. If the message is a message that is further parsed (I
called these &quot;twitch messages&quot; in this library) then the <code>message</code> passed to
this handler will already be the specific type, e.g. <code>PrivmsgMessage</code> if the
command is <code>PRIVMSG</code>.</p>
</li>
<li><p><strong><code>client.on(&quot;PRIVMSG&quot;, (message: PrivmsgMessage) =&gt; { /* ... */ })</code></strong>: Called
on incoming messages whose command is <code>PRIVMSG</code>. The <code>message</code> parameter is
always instanceof <code>PrivmsgMessage</code>. (See the API documentation for what
properties exist on all <code>PrivmsgMessage</code> instances)</p>
<p>For example:</p>
<pre><code class="language-javascript"><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;CLEARCHAT&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isTimeout</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">`</span><span class="hl-0">${</span><span class="hl-5">msg</span><span class="hl-7">.</span><span class="hl-5">targetUsername</span><span class="hl-0">}</span><span class="hl-4"> just got timed out for `</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">`</span><span class="hl-0">${</span><span class="hl-5">msg</span><span class="hl-7">.</span><span class="hl-5">banDuration</span><span class="hl-0">}</span><span class="hl-4"> seconds in channel </span><span class="hl-0">${</span><span class="hl-5">msg</span><span class="hl-7">.</span><span class="hl-5">channelName</span><span class="hl-0">}</span><span class="hl-4">`</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Other message types that have specific message parsing are:</p>
<ul>
<li><strong><code>CLEARCHAT</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/ClearchatMessage.html"><code>ClearchatMessage</code></a>) - Timeout and ban
messages</li>
<li><strong><code>CLEARMSG</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/ClearmsgMessage.html"><code>ClearmsgMessage</code></a>) - Single message
deletions (initiated by <code>/delete</code>)</li>
<li><strong><code>HOSTTARGET</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/HosttargetMessage.html"><code>HosttargetMessage</code></a>) - A channel
entering or exiting host mode.</li>
<li><strong><code>NOTICE</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/NoticeMessage.html"><code>NoticeMessage</code></a>) - Various notices, such as
when you <code>/help</code>, a command fails, the error response when you are timed
out, etc.</li>
<li><strong><code>PRIVMSG</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/PrivmsgMessage.html"><code>PrivmsgMessage</code></a>) - Normal chat messages</li>
<li><strong><code>ROOMSTATE</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/RoomstateMessage.html"><code>RoomstateMessage</code></a>) - A change to a
channel&#39;s followers mode, subscribers-only mode, r9k mode, followers mode,
slow mode etc.</li>
<li><strong><code>USERNOTICE</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/UsernoticeMessage.html"><code>UsernoticeMessage</code></a>) - Subs, resubs,
sub gifts, rituals, raids, etc. - See more details about how to handle this
message type below.</li>
<li><strong><code>USERSTATE</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/UserstateMessage.html"><code>UserstateMessage</code></a>) - Your own state
(e.g. badges, color, display name, emote sets, mod status), sent on every
time you join a channel or send a <code>PRIVMSG</code> to a channel</li>
<li><strong><code>GLOBALUSERSTATE</code></strong> (maps to
<a href="https://kararty.github.io/dank-twitch-irc/classes/GlobaluserstateMessage.html"><code>GlobaluserstateMessage</code></a>) - Logged in user&#39;s &quot;global
state&quot;, sent once on every login (Note that due to the used connection pool
you can receive this multiple times during your bot&#39;s runtime)</li>
<li><strong><code>WHISPER</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/WhisperMessage.html"><code>WhisperMessage</code></a>) - Somebody else
whispering you</li>
<li><strong><code>JOIN</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/JoinMessage.html"><code>JoinMessage</code></a>) - You yourself joining a channel,
of if you have <code>requestMembershipCapability</code> enabled, also other users
joining channels you are joined to.</li>
<li><strong><code>PART</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/PartMessage.html"><code>JoinMessage</code></a>) - You yourself parting (leaving)
a channel, of if you have <code>requestMembershipCapability</code> enabled, also other
users parting channels you are joined to.</li>
<li><strong><code>RECONNECT</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/ReconnectMessage.html"><code>ReconnectMessage</code></a>) - When the twitch
server tells a client to reconnect and re-join channels (You don&#39;t have to
listen for this yourself, this is done automatically already)</li>
<li><strong><code>PING</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/PingMessage.html"><code>PingMessage</code></a>) - When the twitch server sends a
ping, expecting a pong back from the client to verify if the connection is
still alive. (You don&#39;t have to listen for this yourself, the client
automatically responds for you)</li>
<li><strong><code>PONG</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/PongMessage.html"><code>PongMessage</code></a>) - When the twitch server responds
to our <code>PING</code> requests (The library automatically sends a <code>PING</code> request
every 30 seconds to verify connections are alive)</li>
<li><strong><code>CAP</code></strong> (maps to <a href="https://kararty.github.io/dank-twitch-irc/classes/CapMessage.html"><code>CapMessage</code></a>) - Message type received once during
connection startup, acknowledging requested capabilities.</li>
</ul>
</li>
</ul>
<p>All other commands (if they don&#39;t have a special parsed type like the ones
listed above) will still be emitted under their command name as an
<a href="https://kararty.github.io/dank-twitch-irc/classes/IRCMessage.html"><code>IRCMessage</code></a>, e.g.:</p>
<pre><code class="language-javascript"><span class="hl-8">// :tmi.twitch.tv 372 botfactory :You are in a maze of twisty passages, all alike.</span><br/><span class="hl-8">// msg will be an instance of IRCMessage</span><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;372&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">`Server MOTD is: </span><span class="hl-0">${</span><span class="hl-5">msg</span><span class="hl-7">.</span><span class="hl-5">ircParameters</span><span class="hl-7">[</span><span class="hl-9">1</span><span class="hl-7">]</span><span class="hl-0">}</span><span class="hl-4">`</span><span class="hl-1">)</span><br/><span class="hl-1">);</span>
</code></pre>

<a href="#handling-usernotice-messages" id="handling-usernotice-messages" style="color: inherit; text-decoration: none;">
  <h2>Handling <code>USERNOTICE</code> messages</h2>
</a>
<p>The <code>USERNOTICE</code> message type is special because it encapsulates a wide range of
events, including:</p>
<ul>
<li>Subs</li>
<li>Resubs</li>
<li>Gift subscription</li>
<li>Incoming raid and</li>
<li>Channel rituals,</li>
</ul>
<p>which are all emitted under the <code>USERNOTICE</code> event. See also
<a href="https://dev.twitch.tv/docs/irc/tags/#usernotice-twitch-tags">the offical documentation</a>
about the <code>USERNOTICE</code> command.</p>
<p>Every <code>USERNOTICE</code> message is sent by a user, and always contains a
<code>msg.systemMessage</code> (This is a message that twitch formats for you, e.g.
<code>4 raiders from PotehtoO have joined!</code> for a <code>raid</code> message.) Additionally,
every <code>USERNOTICE</code> message can have a message that is additionally sent/shared
from the sending user, for example the &quot;share this message with the streamer&quot;
message sent with resubs and subs. If no message is sent by the user,
<code>msg.messageText</code> is <code>undefined</code>.</p>
<p><code>dank-twitch-irc</code> currently does not have special parsing code for each
<code>USERNOTICE</code> <code>messageTypeID</code> (e.g. <code>sub</code>, <code>resub</code>, <code>raid</code>, etc...) - Instead the
parser assigns all <code>msg-param-</code> tags to the <code>msg.eventParams</code> object. See below
on what <code>msg.eventParams</code> are available for each of the <code>messageTypeID</code>s.</p>

<a href="#sub-and-resub" id="sub-and-resub" style="color: inherit; text-decoration: none;">
  <h3>Sub and resub</h3>
</a>
<p>When a user subscribes or resubscribes with his own money/prime (this is NOT
sent for gift subs, see below)</p>
<pre><code class="language-javascript"><span class="hl-5">chatClient</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;USERNOTICE&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">// sub and resub messages have the same parameters, so we can handle them both the same way</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isSub</span><span class="hl-1">() &amp;&amp; !</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isResub</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">/*</span><br/><span class="hl-8">   * msg.eventParams are:</span><br/><span class="hl-8">   *</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;cumulativeMonths&quot;: 10,</span><br/><span class="hl-8">   *   &quot;cumulativeMonthsRaw&quot;: &quot;10&quot;,</span><br/><span class="hl-8">   *   &quot;subPlan&quot;: &quot;1000&quot;, // Prime, 1000, 2000 or 3000</span><br/><span class="hl-8">   *   &quot;subPlanName&quot;: &quot;The Ninjas&quot;,</span><br/><span class="hl-8">   *</span><br/><span class="hl-8">   *   // if shouldShareStreak is false, then</span><br/><span class="hl-8">   *   // streakMonths/streakMonthsRaw will be 0</span><br/><span class="hl-8">   *   // (the user did not share their sub streak in chat)</span><br/><span class="hl-8">   *   &quot;shouldShareStreak&quot;: true,</span><br/><span class="hl-8">   *   &quot;streakMonths&quot;: 7,</span><br/><span class="hl-8">   *   &quot;streakMonthsRaw&quot;: &quot;7&quot;</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   * Sender user of the USERNOTICE message is the user subbing/resubbing.</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isSub</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-8">// Leppunen just subscribed to ninja with a tier 1000 (The Ninjas) sub for the first time!</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; just subscribed to &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; with a tier &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">subPlan</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; (&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">subPlanName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;) sub for the first time!&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  } </span><span class="hl-6">else</span><span class="hl-1"> </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isResub</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-5">streakMessage</span><span class="hl-1"> = </span><span class="hl-4">&quot;&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">shouldShareStreak</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">streakMessage</span><span class="hl-1"> =</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;, currently &quot;</span><span class="hl-1"> + </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">streakMonths</span><span class="hl-1"> + </span><span class="hl-4">&quot; months in a row&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-8">// Leppunen just resubscribed to ninja with a tier 1000 (The Ninjas) sub!</span><br/><span class="hl-1">    </span><span class="hl-8">// They are resubscribing for 10 months, currently 7 months in a row!</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; just resubscribed to &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; with a tier &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">subPlan</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; (&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">subPlanName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;) sub! They are resubscribing for &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">cumulativeMonths</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; months&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">streakMessage</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;!&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">messageText</span><span class="hl-1"> != </span><span class="hl-0">null</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-8">// you also have access to lots of other properties also present on PRIVMSG messages,</span><br/><span class="hl-1">    </span><span class="hl-8">// such as msg.badges, msg.senderUsername, msg.badgeInfo, msg.bits/msg.isCheer(),</span><br/><span class="hl-1">    </span><span class="hl-8">// msg.color, msg.emotes, msg.messageID, msg.serverTimestamp, etc...</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; shared the following message with the streamer: &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">messageText</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  } </span><span class="hl-6">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">&quot;They did not share a message with the streamer.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#incoming-raids" id="incoming-raids" style="color: inherit; text-decoration: none;">
  <h3>Incoming raids</h3>
</a>
<p>Twitch says:</p>
<blockquote>
<p>Incoming raid to a channel. Raid is a Twitch tool that allows broadcasters to
send their viewers to another channel, to help support and grow other members
in the community.)</p>
</blockquote>
<pre><code class="language-javascript"><span class="hl-5">chatClient</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;USERNOTICE&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isRaid</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">/*</span><br/><span class="hl-8">   * msg.eventParams are:</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;displayName&quot;: &quot;Leppunen&quot;,</span><br/><span class="hl-8">   *   &quot;login&quot;: &quot;leppunen&quot;,</span><br/><span class="hl-8">   *   &quot;viewerCount&quot;: 12,</span><br/><span class="hl-8">   *   &quot;viewerCountRaw&quot;: &quot;12&quot;</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   * Sender user of the USERNOTICE message is the user raiding this channel.</span><br/><span class="hl-8">   * Note that the display name and login present in msg.eventParams are</span><br/><span class="hl-8">   * the same as msg.displayName and msg.senderUsername, so it doesn&#39;t matter</span><br/><span class="hl-8">   * which one you use (although I recommend the properties directly on the</span><br/><span class="hl-8">   * message object, not in eventParams)</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-8">// source user is the channel/streamer raiding</span><br/><span class="hl-1">  </span><span class="hl-8">// Leppunen just raided Supinic with 12 viewers!</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; just raided &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; with &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">viewerCount</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; viewers!&quot;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#subgift" id="subgift" style="color: inherit; text-decoration: none;">
  <h3>Subgift</h3>
</a>
<p>When a user gifts somebody else a subscription.</p>
<pre><code class="language-javascript"><span class="hl-5">chatClient</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;USERNOTICE&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isSubgift</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">/*</span><br/><span class="hl-8">   * msg.eventParams are:</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;months&quot;: 5,</span><br/><span class="hl-8">   *   &quot;monthsRaw&quot;: &quot;5&quot;,</span><br/><span class="hl-8">   *   &quot;giftMonths&quot;: 5,</span><br/><span class="hl-8">   *   &quot;giftMonthsRaw&quot;: &quot;5&quot;,</span><br/><span class="hl-8">   *   &quot;recipientDisplayName&quot;: &quot;Leppunen&quot;,</span><br/><span class="hl-8">   *   &quot;recipientID&quot;: &quot;42239452&quot;,</span><br/><span class="hl-8">   *   &quot;recipientUsername&quot;: &quot;leppunen&quot;,</span><br/><span class="hl-8">   *   &quot;subPlan&quot;: &quot;1000&quot;,</span><br/><span class="hl-8">   *   &quot;subPlanName&quot;: &quot;The Ninjas&quot;,</span><br/><span class="hl-8">   *   &quot;senderCount&quot;: 5,</span><br/><span class="hl-8">   *   &quot;senderCountRaw&quot;: &quot;5&quot;,</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   * Sender user of the USERNOTICE message is the user gifting the subscription.</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">months</span><span class="hl-1"> === </span><span class="hl-9">1</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-8">// Leppunen just gifted NymN a fresh tier 1000 (The Ninjas) sub to ninja!</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; just gifted &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">recipientDisplayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; a fresh tier &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">subPlan</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; (&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;) sub to &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;!&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  } </span><span class="hl-6">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// Leppunen just gifted NymN a tier 1000 (The Ninjas) resub to ninja, that&#39;s 7 months in a row!</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; just gifted &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">recipientDisplayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; a tier &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">subPlan</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; (&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;) resub to &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;, that&#39;s &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">months</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; in a row!&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">// note: if the subgift was from an anonymous user, the sender user for the USERNOTICE message will be</span><br/><span class="hl-1">  </span><span class="hl-8">// AnAnonymousGifter (user ID 274598607)</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">senderUserID</span><span class="hl-1"> === </span><span class="hl-4">&quot;274598607&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">&quot;That (re)sub was gifted anonymously!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#anonsubgift" id="anonsubgift" style="color: inherit; text-decoration: none;">
  <h3>Anonsubgift</h3>
</a>
<p>When an anonymous user gifts a subscription to a viewer.</p>
<pre><code class="language-javascript"><span class="hl-5">chatClient</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;USERNOTICE&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isAnonSubgift</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">/*</span><br/><span class="hl-8">   * msg.eventParams are:</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;months&quot;: 5,</span><br/><span class="hl-8">   *   &quot;monthsRaw&quot;: &quot;5&quot;,</span><br/><span class="hl-8">   *   &quot;recipientDisplayName&quot;: &quot;Leppunen&quot;,</span><br/><span class="hl-8">   *   &quot;recipientID&quot;: &quot;42239452&quot;,</span><br/><span class="hl-8">   *   &quot;recipientUsername&quot;: &quot;leppunen&quot;,</span><br/><span class="hl-8">   *   &quot;subPlan&quot;: &quot;1000&quot;,</span><br/><span class="hl-8">   *   &quot;subPlanName&quot;: &quot;The Ninjas&quot;</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   *</span><br/><span class="hl-8">   * WARNING! Sender user of the USERNOTICE message is the broadcaster (e.g. Ninja</span><br/><span class="hl-8">   * in the example below)</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">months</span><span class="hl-1"> === </span><span class="hl-9">1</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-8">// An anonymous gifter just gifted NymN a fresh tier 1000 (The Ninjas) sub to ninja!</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;An anonymous gifter just gifted &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">recipientDisplayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; a fresh tier &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">subPlan</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; (&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;) sub to &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;!&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  } </span><span class="hl-6">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// An anonymous gifter just gifted NymN a tier 1000 (The Ninjas) resub to ninja, that&#39;s 7 months in a row!</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;An anonymous gifter just gifted &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">recipientDisplayName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; a tier &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">subPlan</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; (&quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;) resub to &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;, that&#39;s &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">months</span><span class="hl-1"> +</span><br/><span class="hl-1">        </span><span class="hl-4">&quot; in a row!&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#anongiftpaidupgrade-giftpaidupgrade" id="anongiftpaidupgrade-giftpaidupgrade" style="color: inherit; text-decoration: none;">
  <h3>anongiftpaidupgrade, giftpaidupgrade</h3>
</a>
<p>When a user commits to continue the gift sub by another user (or an anonymous
gifter).</p>
<pre><code class="language-javascript"><span class="hl-5">chatClient</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;USERNOTICE&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isAnonGiftPaidUpgrade</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">/*</span><br/><span class="hl-8">   * msg.eventParams are:</span><br/><span class="hl-8">   * EITHER: (ONLY when a promotion is running!)</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;promoName&quot;: &quot;Subtember 2018&quot;,</span><br/><span class="hl-8">   *   &quot;promoGiftTotal&quot;: 3987234,</span><br/><span class="hl-8">   *   &quot;promoGiftTotalRaw&quot;: &quot;3987234&quot;</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   * OR: (when no promotion is running)</span><br/><span class="hl-8">   * {}</span><br/><span class="hl-8">   *</span><br/><span class="hl-8">   * Sender user of the USERNOTICE message is the user continuing their sub.</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-8">// Leppunen is continuing their ninja gift sub they got from an anonymous user!</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; is continuing their &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; gift sub they got from an anonymous user!&quot;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">});</span>
</code></pre>
<pre><code class="language-javascript"><span class="hl-5">chatClient</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;USERNOTICE&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isGiftPaidUpgrade</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">/*</span><br/><span class="hl-8">   * msg.eventParams are:</span><br/><span class="hl-8">   * EITHER: (ONLY when a promotion is running!)</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;promoName&quot;: &quot;Subtember 2018&quot;,</span><br/><span class="hl-8">   *   &quot;promoGiftTotal&quot;: 3987234,</span><br/><span class="hl-8">   *   &quot;promoGiftTotalRaw&quot;: &quot;3987234&quot;,</span><br/><span class="hl-8">   *   &quot;senderLogin&quot;: &quot;krakenbul&quot;,</span><br/><span class="hl-8">   *   &quot;senderName&quot;: &quot;Krakenbul&quot;</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   * OR: (when no promotion is running)</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;senderLogin&quot;: &quot;krakenbul&quot;,</span><br/><span class="hl-8">   *   &quot;senderName&quot;: &quot;Krakenbul&quot;</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   *</span><br/><span class="hl-8">   * Sender user of the USERNOTICE message is the user continuing their sub.</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-8">// Leppunen is continuing their ninja gift sub they got from Krakenbul!</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; is continuing their &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; gift sub they got from &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">msgParam</span><span class="hl-1">.</span><span class="hl-5">senderName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;!&quot;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#ritual" id="ritual" style="color: inherit; text-decoration: none;">
  <h3>ritual</h3>
</a>
<p>Channel ritual. Twitch says:</p>
<blockquote>
<p>Channel <em>ritual</em>. Many channels have special rituals to celebrate viewer
milestones when they are shared. The rituals notice extends the sharing of
these messages to other viewer milestones (initially, a new viewer chatting
for the first time).</p>
</blockquote>
<pre><code class="language-javascript"><span class="hl-5">chatClient</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;USERNOTICE&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isRitual</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">/*</span><br/><span class="hl-8">   * msg.eventParams are:</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;ritualName&quot;: &quot;new_chatter&quot;</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   *</span><br/><span class="hl-8">   * Sender user of the USERNOTICE message is the user performing the</span><br/><span class="hl-8">   * ritual (e.g. the new chatter).</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-8">// Leppunen is new to ninja&#39;s chat! Say hello!</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">ritualName</span><span class="hl-1"> === </span><span class="hl-4">&quot;new_chatter&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> + </span><span class="hl-4">&quot; is new to &quot;</span><span class="hl-1"> + </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> + </span><span class="hl-4">&quot;&#39;s chat! Say hello!&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  } </span><span class="hl-6">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">warn</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;Unknown (unhandled) ritual type: &quot;</span><span class="hl-1"> + </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">eventParams</span><span class="hl-1">.</span><span class="hl-5">ritualName</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#bitsbadgetier" id="bitsbadgetier" style="color: inherit; text-decoration: none;">
  <h3>bitsbadgetier</h3>
</a>
<p>When a user cheers and earns himself a new bits badge with that cheer (e.g. they
just cheered more than/exactly 10000 bits in total, and just earned themselves
the 10k bits badge)</p>
<pre><code class="language-javascript"><span class="hl-5">chatClient</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-4">&quot;USERNOTICE&quot;</span><span class="hl-1">, (</span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-3">isBitsBadgeTier</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-8">/*</span><br/><span class="hl-8">   * msg.eventParams are:</span><br/><span class="hl-8">   * {</span><br/><span class="hl-8">   *   &quot;threshold&quot;: 10000,</span><br/><span class="hl-8">   *   &quot;thresholdRaw&quot;: &quot;10000&quot;,</span><br/><span class="hl-8">   * }</span><br/><span class="hl-8">   *</span><br/><span class="hl-8">   * Sender user of the USERNOTICE message is the user cheering the bits.</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-8">// Leppunen just earned themselves the 10000 bits badge in ninja&#39;s channel!</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">displayName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; just earned themselves the &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">threshold</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot; bits badge in &quot;</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-5">channelName</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;&#39;s channel!&quot;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#chatclient-api" id="chatclient-api" style="color: inherit; text-decoration: none;">
  <h2>ChatClient API</h2>
</a>
<p>You probably will want to use these functions on <code>ChatClient</code> most frequently:</p>
<ul>
<li><code>client.join(channelName: string): Promise&lt;void&gt;</code> - Join (Listen to) the
channel given by the channel name</li>
<li><code>client.joinAll(channelNames: string[]): Promise&lt;void&gt;</code> - Join (Listen to) all
of the listed channels at once (bulk join)</li>
<li><code>client.part(channelName: string): Promise&lt;void&gt;</code> - Part (Leave/Unlisten) the
channel given by the channel name</li>
<li><code>client.privmsg(channelName: string, message: string): Promise&lt;void&gt;</code> - Send a
raw <code>PRIVMSG</code> to the given channel. You can issue chat commands with this
function, e.g. <code>client.privmsg(&quot;forsen&quot;, &quot;/timeout weeb123 5&quot;)</code> or normal
messages, e.g. <code>client.privmsg(&quot;forsen&quot;, &quot;Kappa Keepo PogChamp&quot;)</code>.</li>
<li><code>client.say(channelName: string, message: string): Promise&lt;void&gt;</code> - Say a
normal chat message in the given channel. If a command is given as <code>message</code>,
it will be escaped.</li>
<li><code>client.me(channelName: string, message: string): Promise&lt;void&gt;</code> - Post a
<code>/me</code> message in the given channel.</li>
<li><code>client.timeout(channelName: string, username: string, length: number, reason?: string): Promise&lt;void&gt;</code> -
Timeout <code>username</code> for <code>length</code> seconds in <code>channelName</code>. Optionally accepts a
reason to set.</li>
<li><code>client.ban(channelName: string, username: string, reason?: string): Promise&lt;void&gt;</code> -
Ban <code>username</code> in <code>channelName</code>. Optionally accepts a reason to set.</li>
<li><code>client.ping()</code> - Send a <code>PING</code> on a connection from the pool, and awaits the
<code>PONG</code> response. You can use this to measure server latency, for example.</li>
<li><code>client.whisper(username: string, message: string)</code> - Send the user a whisper
from the bot.</li>
<li><code>client.setColor(color: Color)</code> - set the username color of your bot account.
E.g. <code>client.setColor({ r: 255, g: 0, b: 127 })</code>.</li>
<li><code>client.getMods(channelName: string)</code> and <code>client.getVips(channelName: string)</code> -
Get a list of moderators/VIPs in a channel. Returns
a promise that resolves to an array of strings (login names of the moderators/VIPs).
Note that due to Twitch&#39;s restrictions, this function cannot be used with anonymous chat clients.
(The request will time out if your chat client is logged in as anonymous.)</li>
</ul>
<p>Extra functionality:</p>
<ul>
<li><code>client.sendRaw(command: string): void</code> - Send a raw IRC command to a
connection in the connection pool.</li>
<li><code>client.unconnected (boolean)</code> - Returns whether the client is unconnected.</li>
<li><code>client.connecting (boolean)</code> - Returns whether the client is connecting.</li>
<li><code>client.connected (boolean)</code> - Returns whether the client is connected
(Transport layer is connected).</li>
<li><code>client.ready (boolean)</code> - Returns whether the client is ready (Logged into
IRC server).</li>
<li><code>client.closed (boolean)</code> - Returns whether the client is closed.</li>
</ul>
<p>Note that channel names in the above functions always refer to the &quot;login name&quot;
of a twitch channel. Channel names may not be capitalized, e.g. <code>Forsen</code> would
be invalid, but <code>forsen</code> not. This library also does not accept the leading <code>#</code>
character and never returns it on any message objects (e.g. <code>msg.channelName</code>
would be <code>forsen</code>, not <code>#forsen</code>).</p>

<a href="#api-documentation" id="api-documentation" style="color: inherit; text-decoration: none;">
  <h2>API Documentation</h2>
</a>
<p>Generated API documentation can be found here:
<a href="https://kararty.github.io/dank-twitch-irc">https://kararty.github.io/dank-twitch-irc</a></p>

<a href="#client-options" id="client-options" style="color: inherit; text-decoration: none;">
  <h2>Client options</h2>
</a>
<p>Pass options to the <code>ChatClient</code> constructor. More available options are
documented in the Below are all possible options and their default values:</p>
<p><strong>Note! ALL of these configuration options are <em>optional</em>!</strong> I highly recommend you
only set the very config options you need, the rest are usually at a reasonable default.<br>For most bots, you only need to set <code>username</code> and <code>password</code>:</p>
<pre><code class="language-javascript"><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ChatClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">username:</span><span class="hl-1"> </span><span class="hl-4">&quot;your-bot-username&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">password:</span><span class="hl-1"> </span><span class="hl-4">&quot;0123456789abcdef1234567&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Nevertheless, here are examples of all possible config options:</p>
<pre><code class="language-javascript"><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ChatClient</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">username:</span><span class="hl-1"> </span><span class="hl-4">&quot;your-bot-username&quot;</span><span class="hl-1">, </span><span class="hl-8">// justinfan12345 by default - For anonymous chat connection</span><br/><span class="hl-1">  </span><span class="hl-5">password:</span><span class="hl-1"> </span><span class="hl-4">&quot;0123456789abcdef1234567&quot;</span><span class="hl-1">, </span><span class="hl-8">// undefined by default (no password)</span><br/><span class="hl-1">  </span><span class="hl-8">// Message rate limits configuration for verified and known bots</span><br/><span class="hl-1">  </span><span class="hl-8">// pick one of the presets or configure custom rates as shown below:</span><br/><span class="hl-1">  </span><span class="hl-5">rateLimits:</span><span class="hl-1"> </span><span class="hl-4">&quot;default&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">// or:</span><br/><span class="hl-1">  </span><span class="hl-5">rateLimits:</span><span class="hl-1"> </span><span class="hl-4">&quot;knownBot&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">// or:</span><br/><span class="hl-1">  </span><span class="hl-5">rateLimits:</span><span class="hl-1"> </span><span class="hl-4">&quot;verifiedBot&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">// or:</span><br/><span class="hl-1">  </span><span class="hl-5">rateLimits:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">highPrivmsgLimits:</span><span class="hl-1"> </span><span class="hl-9">100</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">lowPrivmsgLimits:</span><span class="hl-1"> </span><span class="hl-9">20</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-8">// Configuration options for the backing connections:</span><br/><span class="hl-1">  </span><span class="hl-8">// Plain TCP or TLS</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-4">&quot;tcp&quot;</span><span class="hl-1">, </span><span class="hl-8">// tcp by default</span><br/><span class="hl-1">    </span><span class="hl-5">secure:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-8">// true by default</span><br/><span class="hl-1">    </span><span class="hl-8">// host and port must both be specified at once</span><br/><span class="hl-1">    </span><span class="hl-5">host:</span><span class="hl-1"> </span><span class="hl-4">&quot;custom-chat-server.com&quot;</span><span class="hl-1">, </span><span class="hl-8">// irc.chat.twitch.tv by default</span><br/><span class="hl-1">    </span><span class="hl-5">port:</span><span class="hl-1"> </span><span class="hl-9">1234</span><span class="hl-1">, </span><span class="hl-8">// 6697/6667 by default, depending on the &quot;secure&quot; setting</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-8">// or:</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-4">&quot;websocket&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">secure:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-8">// use preset URL of irc-ws.chat.twitch.tv</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-8">// or:</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-4">&quot;websocket&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">url:</span><span class="hl-1"> </span><span class="hl-4">&quot;wss://custom-url.com/abc/def&quot;</span><span class="hl-1">, </span><span class="hl-8">// custom URL</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-8">// or:</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-4">&quot;duplex&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">stream</span><span class="hl-5">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-5">aNodeJsDuplexInstance</span><span class="hl-1">, </span><span class="hl-8">// read and write to a custom object</span><br/><span class="hl-1">    </span><span class="hl-8">// implementing the Duplex interface from Node.js</span><br/><span class="hl-1">    </span><span class="hl-8">// the function you specify is called for each new connection</span><br/><span class="hl-1">    </span><span class="hl-5">preSetup:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-8">// false by default, makes the lib skip login</span><br/><span class="hl-1">    </span><span class="hl-8">// and capabilities negotiation on connection startup</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-8">// how many channels each individual connection should join at max</span><br/><span class="hl-1">  </span><span class="hl-5">maxChannelCountPerConnection:</span><span class="hl-1"> </span><span class="hl-9">100</span><span class="hl-1">, </span><span class="hl-8">// 90 by default</span><br/><span class="hl-1">  </span><span class="hl-8">// custom parameters for connection rate limiting</span><br/><span class="hl-1">  </span><span class="hl-5">connectionRateLimits:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">parallelConnections:</span><span class="hl-1"> </span><span class="hl-9">5</span><span class="hl-1">, </span><span class="hl-8">// 1 by default</span><br/><span class="hl-1">    </span><span class="hl-8">// time to wait after each connection before a new connection can begin</span><br/><span class="hl-1">    </span><span class="hl-5">releaseTime:</span><span class="hl-1"> </span><span class="hl-9">1000</span><span class="hl-1">, </span><span class="hl-8">// in milliseconds, 2 seconds by default</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-8">// I recommend you leave this off by default, it makes your bot faster</span><br/><span class="hl-1">  </span><span class="hl-8">// If you need live update of who&#39;s joining and leaving chat,</span><br/><span class="hl-1">  </span><span class="hl-8">// poll the tmi.twitch.tv chatters endpoint instead since it</span><br/><span class="hl-1">  </span><span class="hl-8">// is also more reliable</span><br/><span class="hl-1">  </span><span class="hl-5">requestMembershipCapability:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-8">// false by default</span><br/><span class="hl-1">  </span><span class="hl-8">// read more about mixins below</span><br/><span class="hl-1">  </span><span class="hl-8">// this disables the connection rate limiter, message rate limiter</span><br/><span class="hl-1">  </span><span class="hl-8">// and Room- and Userstate trackers (which are important for other mixins)</span><br/><span class="hl-1">  </span><span class="hl-5">installDefaultMixins:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-8">// true by default</span><br/><span class="hl-1">  </span><span class="hl-8">// Silence UnandledPromiseRejectionWarnings on all client methods</span><br/><span class="hl-1">  </span><span class="hl-8">// that return promises.</span><br/><span class="hl-1">  </span><span class="hl-8">// With this option enabled, the returned promises will still be rejected/</span><br/><span class="hl-1">  </span><span class="hl-8">// resolved as without this option, this option ONLY silences the</span><br/><span class="hl-1">  </span><span class="hl-8">// UnhandledPromiseRejectionWarning.</span><br/><span class="hl-1">  </span><span class="hl-5">ignoreUnhandledPromiseRejections:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-8">// false by default</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#features" id="features" style="color: inherit; text-decoration: none;">
  <h2>Features</h2>
</a>
<p>This client currently supports the following features:</p>
<ul>
<li>Connection pooling and round-robin connection usage</li>
<li>Automatic rate limiter for connection opening and chat commands</li>
<li>All twitch-specific message types parsed (<code>CLEARCHAT</code>, <code>CLEARMSG</code>,
<code>GLOBALUSERSTATE</code>, <code>HOSTTARGET</code>, <code>JOIN</code>, <code>NOTICE</code>, <code>PART</code>, <code>PING</code>, <code>PONG</code>,
<code>PRIVMSG</code>, <code>RECONNECT</code>, <code>ROOMSTATE</code>, <code>USERNOTICE</code>, <code>USERSTATE</code>, <code>WHISPER</code>,
<code>CAP</code>)</li>
<li>Accurate response to server responses (e.g. error thrown if you are banned
from channel/channel is suspended/login is invalid etc.)</li>
<li>Bulk join functionality to join lots of channels quickly</li>
<li>Implements the recommended connection control, utilizing <code>RECONNECT</code>, <code>PING</code>
and <code>PONG</code></li>
<li>Full tracking of room state (e.g. submode, emote-only mode, followers mode,
r9k etc.) and user state (badges, moderator state, color, etc).</li>
<li>Most function calls return promises but errors can also be handled by
subscribing to the error event</li>
<li>Slow-mode rate limiter for non-VIP/moderator bots (waits either the global
~1.3 sec/channel-specific slow mode)</li>
<li>Support for different types of transport (in-memory, TCP, WebSocket)</li>
</ul>

<a href="#extra-mixins" id="extra-mixins" style="color: inherit; text-decoration: none;">
  <h2>Extra Mixins</h2>
</a>
<p>There are some features you might find useful in your bot that are not necessary
for general client/bot operations, so they were packaged as <strong>mixins</strong>. You can
activate mixins by calling:</p>
<pre><code class="language-javascript"><span class="hl-0">const</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">ChatClient</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">AlternateMessageModifier</span><span class="hl-1">,</span><br/><span class="hl-1">} = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&quot;@kararty/dank-twitch-irc&quot;</span><span class="hl-1">);</span><br/><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ChatClient</span><span class="hl-1">();</span><br/><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-3">use</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">AlternateMessageModifier</span><span class="hl-1">(</span><span class="hl-5">client</span><span class="hl-1">));</span>
</code></pre>
<p>Available mixins are:</p>
<ul>
<li><code>new AlternateMessageModifier(client)</code> will allow your bot to send the same
message within a 30 seconds period. You must also use <code>client.say</code> and
<code>client.me</code> for this mixin to behave consistently and reliably.</li>
<li><code>new SlowModeRateLimiter(client, /* optional */ maxWaitingMessages)</code> will rate
limit your messages in channels where your bot is not moderator, VIP or
broadcaster and has to wait a bit between sending messages. If more than
<code>maxWaitingMessages</code> are waiting, the outgoing message will be dropped
silently. <code>maxWaitingMessages</code> defaults to 10. Note this mixin only has an
effect on <code>client.say</code> and <code>client.me</code> functions, not <code>client.privmsg</code>.</li>
</ul>
<p>and the mixins installed by default:</p>
<ul>
<li><code>new PrivmsgMessageRateLimiter(client)</code> - Rate limits outgoing messages
according to the rate limits imposed by Twitch. Configure the verified/known
status of your bot using the config (see above).</li>
<li><code>new ConnectionRateLimiter(client)</code> - Rate limits new connections accoding to
the rate limits set in the config.</li>
<li><code>new UserStateTracker(client)</code> - Used by other mixins. Keeps track of what
state your bot user has in all channels.</li>
<li><code>new RoomStateTracker()</code> - Used by other mixins. Keeps track of each channel&#39;s
state, e.g. sub-mode etc.</li>
<li><code>new IgnoreUnhandledPromiseRejectionsMixin()</code> - Silences
<code>UnhandledPromiseRejectionWarning</code>s on promises returned by the client&#39;s
functions. (installed for you if you activate the
<code>ignoreUnhandledPromiseRejections</code> client option)</li>
</ul>

<a href="#tests" id="tests" style="color: inherit; text-decoration: none;">
  <h2>Tests</h2>
</a>
<pre><code class="language-bash"><span class="hl-1">npm run </span><span class="hl-3">test</span>
</code></pre>
<p>Test run report is available in <code>./mochawesome-report/mochawesome.html</code>.
Coverage report is produced as <code>./coverage/index.html</code>.</p>

<a href="#lint-and-check-code-style" id="lint-and-check-code-style" style="color: inherit; text-decoration: none;">
  <h2>Lint and check code style</h2>
</a>
<pre><code class="language-bash"><span class="hl-8"># Run eslint and tslint rules and checks code style with prettier</span><br/><span class="hl-1">npm run lint</span>
</code></pre>
<pre><code class="language-bash"><span class="hl-8"># Run eslint, tslint and pretter fixers</span><br/><span class="hl-1">npm run lintfix</span>
</code></pre>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum"><a href="enums/ClientState.html" class="tsd-kind-icon">Client<wbr/>State</a></li><li class="tsd-kind-class"><a href="classes/AlternateMessageModifier.html" class="tsd-kind-icon">Alternate<wbr/>Message<wbr/>Modifier</a></li><li class="tsd-kind-class"><a href="classes/AnnouncementError.html" class="tsd-kind-icon">Announcement<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/BaseClient.html" class="tsd-kind-icon">Base<wbr/>Client</a></li><li class="tsd-kind-class"><a href="classes/BaseError.html" class="tsd-kind-icon">Base<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/CapMessage.html" class="tsd-kind-icon">Cap<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/CapabilitiesError.html" class="tsd-kind-icon">Capabilities<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/ChannelIRCMessage.html" class="tsd-kind-icon">ChannelIRCMessage</a></li><li class="tsd-kind-class"><a href="classes/ChatClient.html" class="tsd-kind-icon">Chat<wbr/>Client</a></li><li class="tsd-kind-class"><a href="classes/ClearchatMessage.html" class="tsd-kind-icon">Clearchat<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/ClearmsgMessage.html" class="tsd-kind-icon">Clearmsg<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/ClientError.html" class="tsd-kind-icon">Client<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/ConnectionError.html" class="tsd-kind-icon">Connection<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/ConnectionPool.html" class="tsd-kind-icon">Connection<wbr/>Pool</a></li><li class="tsd-kind-class"><a href="classes/ConnectionRateLimiter.html" class="tsd-kind-icon">Connection<wbr/>Rate<wbr/>Limiter</a></li><li class="tsd-kind-class"><a href="classes/DuplexTransport.html" class="tsd-kind-icon">Duplex<wbr/>Transport</a></li><li class="tsd-kind-class"><a href="classes/EditableTimeout.html" class="tsd-kind-icon">Editable<wbr/>Timeout</a></li><li class="tsd-kind-class"><a href="classes/GetUsersError.html" class="tsd-kind-icon">Get<wbr/>Users<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/GlobaluserstateMessage.html" class="tsd-kind-icon">Globaluserstate<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/HosttargetMessage.html" class="tsd-kind-icon">Hosttarget<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/IRCMessage.html" class="tsd-kind-icon">IRCMessage</a></li><li class="tsd-kind-class"><a href="classes/IgnoreUnhandledPromiseRejectionsMixin.html" class="tsd-kind-icon">Ignore<wbr/>Unhandled<wbr/>Promise<wbr/>Rejections<wbr/>Mixin</a></li><li class="tsd-kind-class"><a href="classes/JoinError.html" class="tsd-kind-icon">Join<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/JoinMessage.html" class="tsd-kind-icon">Join<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/LoginError.html" class="tsd-kind-icon">Login<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/MessageDeleteError.html" class="tsd-kind-icon">Message<wbr/>Delete<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/MessageError.html" class="tsd-kind-icon">Message<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/MissingDataError.html" class="tsd-kind-icon">Missing<wbr/>Data<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/MissingTagError.html" class="tsd-kind-icon">Missing<wbr/>Tag<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/NoticeMessage.html" class="tsd-kind-icon">Notice<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/ParseError.html" class="tsd-kind-icon">Parse<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/PartError.html" class="tsd-kind-icon">Part<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/PartMessage.html" class="tsd-kind-icon">Part<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/PingMessage.html" class="tsd-kind-icon">Ping<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/PingTimeoutError.html" class="tsd-kind-icon">Ping<wbr/>Timeout<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/PongMessage.html" class="tsd-kind-icon">Pong<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/PrivmsgMessage.html" class="tsd-kind-icon">Privmsg<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/PrivmsgMessageRateLimiter.html" class="tsd-kind-icon">Privmsg<wbr/>Message<wbr/>Rate<wbr/>Limiter</a></li><li class="tsd-kind-class"><a href="classes/ProtocolError.html" class="tsd-kind-icon">Protocol<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/ReconnectError.html" class="tsd-kind-icon">Reconnect<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/ReconnectMessage.html" class="tsd-kind-icon">Reconnect<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/ResponseAwaiter.html" class="tsd-kind-icon">Response<wbr/>Awaiter</a></li><li class="tsd-kind-class"><a href="classes/RoomStateTracker.html" class="tsd-kind-icon">Room<wbr/>State<wbr/>Tracker</a></li><li class="tsd-kind-class"><a href="classes/RoomstateMessage.html" class="tsd-kind-icon">Roomstate<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/SayError.html" class="tsd-kind-icon">Say<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/SetColorError.html" class="tsd-kind-icon">Set<wbr/>Color<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/SingleConnection.html" class="tsd-kind-icon">Single<wbr/>Connection</a></li><li class="tsd-kind-class"><a href="classes/SlowModeRateLimiter.html" class="tsd-kind-icon">Slow<wbr/>Mode<wbr/>Rate<wbr/>Limiter</a></li><li class="tsd-kind-class"><a href="classes/TcpTransport.html" class="tsd-kind-icon">Tcp<wbr/>Transport</a></li><li class="tsd-kind-class"><a href="classes/TimeoutError.html" class="tsd-kind-icon">Timeout<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/TwitchBadge.html" class="tsd-kind-icon">Twitch<wbr/>Badge</a></li><li class="tsd-kind-class"><a href="classes/TwitchBadgesList.html" class="tsd-kind-icon">Twitch<wbr/>Badges<wbr/>List</a></li><li class="tsd-kind-class"><a href="classes/TwitchEmote.html" class="tsd-kind-icon">Twitch<wbr/>Emote</a></li><li class="tsd-kind-class"><a href="classes/TwitchFlag.html" class="tsd-kind-icon">Twitch<wbr/>Flag</a></li><li class="tsd-kind-class"><a href="classes/UserBanError.html" class="tsd-kind-icon">User<wbr/>Ban<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/UserStateTracker.html" class="tsd-kind-icon">User<wbr/>State<wbr/>Tracker</a></li><li class="tsd-kind-class"><a href="classes/UserTimeoutError.html" class="tsd-kind-icon">User<wbr/>Timeout<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/UsernoticeMessage.html" class="tsd-kind-icon">Usernotice<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/UserstateMessage.html" class="tsd-kind-icon">Userstate<wbr/>Message</a></li><li class="tsd-kind-class"><a href="classes/ValidationError.html" class="tsd-kind-icon">Validation<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/WebSocketTransport.html" class="tsd-kind-icon">Web<wbr/>Socket<wbr/>Transport</a></li><li class="tsd-kind-class"><a href="classes/WhisperError.html" class="tsd-kind-icon">Whisper<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/WhisperMessage.html" class="tsd-kind-icon">Whisper<wbr/>Message</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/AnAnnouncementUsernoticeMessage.html" class="tsd-kind-icon">An<wbr/>Announcement<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-interface"><a href="interfaces/AnnouncementParameters.html" class="tsd-kind-icon">Announcement<wbr/>Parameters</a></li><li class="tsd-kind-interface"><a href="interfaces/AwaitConfig.html" class="tsd-kind-icon">Await<wbr/>Config</a></li><li class="tsd-kind-interface"><a href="interfaces/BitsBadgeTierParameters.html" class="tsd-kind-icon">Bits<wbr/>Badge<wbr/>Tier<wbr/>Parameters</a></li><li class="tsd-kind-interface"><a href="interfaces/ClearChatClearchatMessage.html" class="tsd-kind-icon">Clear<wbr/>Chat<wbr/>Clearchat<wbr/>Message</a></li><li class="tsd-kind-interface"><a href="interfaces/ClientConfiguration.html" class="tsd-kind-icon">Client<wbr/>Configuration</a></li><li class="tsd-kind-interface"><a href="interfaces/ClientMixin.html" class="tsd-kind-icon">Client<wbr/>Mixin</a></li><li class="tsd-kind-interface"><a href="interfaces/ClientPingConfig.html" class="tsd-kind-icon">Client<wbr/>Ping<wbr/>Config</a></li><li class="tsd-kind-interface"><a href="interfaces/ClientStateChangeEvent.html" class="tsd-kind-icon">Client<wbr/>State<wbr/>Change<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/Color.html" class="tsd-kind-icon">Color</a></li><li class="tsd-kind-interface"><a href="interfaces/ConnectionMixin.html" class="tsd-kind-icon">Connection<wbr/>Mixin</a></li><li class="tsd-kind-interface"><a href="interfaces/ConnectionPoolOptions.html" class="tsd-kind-icon">Connection<wbr/>Pool<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/ConnectionRateLimits.html" class="tsd-kind-icon">Connection<wbr/>Rate<wbr/>Limits</a></li><li class="tsd-kind-interface"><a href="interfaces/DuplexTransportConfiguration.html" class="tsd-kind-icon">Duplex<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-interface"><a href="interfaces/EventParams.html" class="tsd-kind-icon">Event<wbr/>Params</a></li><li class="tsd-kind-interface"><a href="interfaces/EventParamsMaybe.html" class="tsd-kind-icon">Event<wbr/>Params<wbr/>Maybe</a></li><li class="tsd-kind-interface"><a href="interfaces/ExitHostModeHosttargetMessage.html" class="tsd-kind-icon">Exit<wbr/>Host<wbr/>Mode<wbr/>Hosttarget<wbr/>Message</a></li><li class="tsd-kind-interface"><a href="interfaces/ExitedHostModeHosttargetMessage.html" class="tsd-kind-icon">Exited<wbr/>Host<wbr/>Mode<wbr/>Hosttarget<wbr/>Message</a></li><li class="tsd-kind-interface"><a href="interfaces/GlobalUserState.html" class="tsd-kind-icon">Global<wbr/>User<wbr/>State</a></li><li class="tsd-kind-interface"><a href="interfaces/HiddenStreakSubParams.html" class="tsd-kind-icon">Hidden<wbr/>Streak<wbr/>Sub<wbr/>Params</a></li><li class="tsd-kind-interface"><a href="interfaces/IRCMessageData.html" class="tsd-kind-icon">IRCMessage<wbr/>Data</a></li><li class="tsd-kind-interface"><a href="interfaces/IRCMessageEvents.html" class="tsd-kind-icon">IRCMessage<wbr/>Events</a></li><li class="tsd-kind-interface"><a href="interfaces/IRCMessagePrefix.html" class="tsd-kind-icon">IRCMessage<wbr/>Prefix</a></li><li class="tsd-kind-interface"><a href="interfaces/IRCMessageTags.html" class="tsd-kind-icon">IRCMessage<wbr/>Tags</a></li><li class="tsd-kind-interface"><a href="interfaces/MassSubgiftParameters.html" class="tsd-kind-icon">Mass<wbr/>Subgift<wbr/>Parameters</a></li><li class="tsd-kind-interface"><a href="interfaces/MessageRateLimits.html" class="tsd-kind-icon">Message<wbr/>Rate<wbr/>Limits</a></li><li class="tsd-kind-interface"><a href="interfaces/PermabanClearchatMessage.html" class="tsd-kind-icon">Permaban<wbr/>Clearchat<wbr/>Message</a></li><li class="tsd-kind-interface"><a href="interfaces/PresetWebSocketTransportConfiguration.html" class="tsd-kind-icon">Preset<wbr/>Web<wbr/>Socket<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-interface"><a href="interfaces/RaidParams.html" class="tsd-kind-icon">Raid<wbr/>Params</a></li><li class="tsd-kind-interface"><a href="interfaces/RitualParameters.html" class="tsd-kind-icon">Ritual<wbr/>Parameters</a></li><li class="tsd-kind-interface"><a href="interfaces/RoomState.html" class="tsd-kind-icon">Room<wbr/>State</a></li><li class="tsd-kind-interface"><a href="interfaces/RoomStateTrackerEvents.html" class="tsd-kind-icon">Room<wbr/>State<wbr/>Tracker<wbr/>Events</a></li><li class="tsd-kind-interface"><a href="interfaces/SharesStreakSubParams.html" class="tsd-kind-icon">Shares<wbr/>Streak<wbr/>Sub<wbr/>Params</a></li><li class="tsd-kind-interface"><a href="interfaces/SpecificClientEvents.html" class="tsd-kind-icon">Specific<wbr/>Client<wbr/>Events</a></li><li class="tsd-kind-interface"><a href="interfaces/SpecificConnectionEvents.html" class="tsd-kind-icon">Specific<wbr/>Connection<wbr/>Events</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/SpecificUsernoticeMessage.html" class="tsd-kind-icon">Specific<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-interface"><a href="interfaces/SubgiftParameters.html" class="tsd-kind-icon">Subgift<wbr/>Parameters</a></li><li class="tsd-kind-interface"><a href="interfaces/TagValueParser.html" class="tsd-kind-icon">Tag<wbr/>Value<wbr/>Parser</a></li><li class="tsd-kind-interface"><a href="interfaces/TcpTransportConfiguration.html" class="tsd-kind-icon">Tcp<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-interface"><a href="interfaces/TimeoutClearchatMessage.html" class="tsd-kind-icon">Timeout<wbr/>Clearchat<wbr/>Message</a></li><li class="tsd-kind-interface"><a href="interfaces/Transport.html" class="tsd-kind-icon">Transport</a></li><li class="tsd-kind-interface"><a href="interfaces/UserState.html" class="tsd-kind-icon">User<wbr/>State</a></li><li class="tsd-kind-interface"><a href="interfaces/UserStateTrackerEvents.html" class="tsd-kind-icon">User<wbr/>State<wbr/>Tracker<wbr/>Events</a></li><li class="tsd-kind-interface"><a href="interfaces/WebSocketTransportConfiguration.html" class="tsd-kind-icon">Web<wbr/>Socket<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnnouncementUsernoticeMessage" class="tsd-kind-icon">Announcement<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnonGiftPaidUpgradeParameters" class="tsd-kind-icon">Anon<wbr/>Gift<wbr/>Paid<wbr/>Upgrade<wbr/>Parameters</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnonGiftPaidUpgradeUsernoticeMessage" class="tsd-kind-icon">Anon<wbr/>Gift<wbr/>Paid<wbr/>Upgrade<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnonSubgiftParameters" class="tsd-kind-icon">Anon<wbr/>Subgift<wbr/>Parameters</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnonSubgiftUsernoticeMessage" class="tsd-kind-icon">Anon<wbr/>Subgift<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BasicTcpTransportConfiguration" class="tsd-kind-icon">Basic<wbr/>Tcp<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BitsBadgeTierUsernoticeMessage" class="tsd-kind-icon">Bits<wbr/>Badge<wbr/>Tier<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ClientEvents" class="tsd-kind-icon">Client<wbr/>Events</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Condition" class="tsd-kind-icon">Condition</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ConnectionPredicate" class="tsd-kind-icon">Connection<wbr/>Predicate</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CustomRateLimitsConfig" class="tsd-kind-icon">Custom<wbr/>Rate<wbr/>Limits<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ExpandedClientConfiguration" class="tsd-kind-icon">Expanded<wbr/>Client<wbr/>Configuration</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ExpandedDuplexTransportConfiguration" class="tsd-kind-icon">Expanded<wbr/>Duplex<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ExpandedTcpTransportConfiguration" class="tsd-kind-icon">Expanded<wbr/>Tcp<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ExpandedTransportConfiguration" class="tsd-kind-icon">Expanded<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ExpandedWebSocketTransportConfiguration" class="tsd-kind-icon">Expanded<wbr/>Web<wbr/>Socket<wbr/>Transport<wbr/>Configuration</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#FunctionPropsOf" class="tsd-kind-icon">Function<wbr/>Props<wbr/>Of</a></li><li class="tsd-kind-type-alias"><a href="modules.html#GiftPaidUpgradeParameters" class="tsd-kind-icon">Gift<wbr/>Paid<wbr/>Upgrade<wbr/>Parameters</a></li><li class="tsd-kind-type-alias"><a href="modules.html#GiftPaidUpgradeUsernoticeMessage" class="tsd-kind-icon">Gift<wbr/>Paid<wbr/>Upgrade<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MassSubgiftUsernoticeMessage" class="tsd-kind-icon">Mass<wbr/>Subgift<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#OverrideFunction" class="tsd-kind-icon">Override<wbr/>Function</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#OverrideFunctions" class="tsd-kind-icon">Override<wbr/>Functions</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PresetKeys" class="tsd-kind-icon">Preset<wbr/>Keys</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PrivmsgUserState" class="tsd-kind-icon">Privmsg<wbr/>User<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#RaidUsernoticeMessage" class="tsd-kind-icon">Raid<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#RateLimitsConfig" class="tsd-kind-icon">Rate<wbr/>Limits<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ResubUsernoticeMessage" class="tsd-kind-icon">Resub<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#RitualUsernoticeMessage" class="tsd-kind-icon">Ritual<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#StreakSubParams" class="tsd-kind-icon">Streak<wbr/>Sub<wbr/>Params</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SubEventParams" class="tsd-kind-icon">Sub<wbr/>Event<wbr/>Params</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SubUsernoticeMessage" class="tsd-kind-icon">Sub<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SubgiftUsernoticeMessage" class="tsd-kind-icon">Subgift<wbr/>Usernotice<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TransportConfiguration" class="tsd-kind-icon">Transport<wbr/>Configuration</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TwitchCommands" class="tsd-kind-icon">Twitch<wbr/>Commands</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TwitchEmoteList" class="tsd-kind-icon">Twitch<wbr/>Emote<wbr/>List</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TwitchEmoteSets" class="tsd-kind-icon">Twitch<wbr/>Emote<wbr/>Sets</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TwitchFlagList" class="tsd-kind-icon">Twitch<wbr/>Flag<wbr/>List</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TwitchMessageEvents" class="tsd-kind-icon">Twitch<wbr/>Message<wbr/>Events</a></li><li class="tsd-kind-variable"><a href="modules.html#MAX_OUTGOING_COMMAND_LENGTH" class="tsd-kind-icon">MAX_<wbr/>OUTGOING_<wbr/>COMMAND_<wbr/>LENGTH</a></li><li class="tsd-kind-variable"><a href="modules.html#MAX_OUTGOING_LINE_LENGTH" class="tsd-kind-icon">MAX_<wbr/>OUTGOING_<wbr/>LINE_<wbr/>LENGTH</a></li><li class="tsd-kind-variable"><a href="modules.html#commandClassMap" class="tsd-kind-icon">command<wbr/>Class<wbr/>Map</a></li><li class="tsd-kind-variable"><a href="modules.html#invisibleSuffix" class="tsd-kind-icon">invisible<wbr/>Suffix</a></li><li class="tsd-kind-variable"><a href="modules.html#messageRateLimitPresets" class="tsd-kind-icon">message<wbr/>Rate<wbr/>Limit<wbr/>Presets</a></li><li class="tsd-kind-function"><a href="modules.html#acknowledgesCapabilities" class="tsd-kind-icon">acknowledges<wbr/>Capabilities</a></li><li class="tsd-kind-function"><a href="modules.html#alwaysFalse" class="tsd-kind-icon">always<wbr/>False</a></li><li class="tsd-kind-function"><a href="modules.html#alwaysTrue" class="tsd-kind-icon">always<wbr/>True</a></li><li class="tsd-kind-function"><a href="modules.html#announce" class="tsd-kind-icon">announce</a></li><li class="tsd-kind-function"><a href="modules.html#anyCauseInstanceof" class="tsd-kind-icon">any<wbr/>Cause<wbr/>Instanceof</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#applyReplacement" class="tsd-kind-icon">apply<wbr/>Replacement</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#applyReplacements" class="tsd-kind-icon">apply<wbr/>Replacements</a></li><li class="tsd-kind-function"><a href="modules.html#awaitJoinResponse" class="tsd-kind-icon">await<wbr/>Join<wbr/>Response</a></li><li class="tsd-kind-function"><a href="modules.html#awaitPartResponse" class="tsd-kind-icon">await<wbr/>Part<wbr/>Response</a></li><li class="tsd-kind-function"><a href="modules.html#awaitResponse" class="tsd-kind-icon">await<wbr/>Response</a></li><li class="tsd-kind-function"><a href="modules.html#ban" class="tsd-kind-icon">ban</a></li><li class="tsd-kind-function"><a href="modules.html#canSpamFast" class="tsd-kind-icon">can<wbr/>Spam<wbr/>Fast</a></li><li class="tsd-kind-function"><a href="modules.html#causeOf" class="tsd-kind-icon">cause<wbr/>Of</a></li><li class="tsd-kind-function"><a href="modules.html#colorToHexString" class="tsd-kind-icon">color<wbr/>To<wbr/>Hex<wbr/>String</a></li><li class="tsd-kind-function"><a href="modules.html#convertToBadges" class="tsd-kind-icon">convert<wbr/>To<wbr/>Badges</a></li><li class="tsd-kind-function"><a href="modules.html#convertToBoolean" class="tsd-kind-icon">convert<wbr/>To<wbr/>Boolean</a></li><li class="tsd-kind-function"><a href="modules.html#convertToColor" class="tsd-kind-icon">convert<wbr/>To<wbr/>Color</a></li><li class="tsd-kind-function"><a href="modules.html#convertToEmoteSets" class="tsd-kind-icon">convert<wbr/>To<wbr/>Emote<wbr/>Sets</a></li><li class="tsd-kind-function"><a href="modules.html#convertToEmotes" class="tsd-kind-icon">convert<wbr/>To<wbr/>Emotes</a></li><li class="tsd-kind-function"><a href="modules.html#convertToFlags" class="tsd-kind-icon">convert<wbr/>To<wbr/>Flags</a></li><li class="tsd-kind-function"><a href="modules.html#convertToInt" class="tsd-kind-icon">convert<wbr/>To<wbr/>Int</a></li><li class="tsd-kind-function"><a href="modules.html#convertToString" class="tsd-kind-icon">convert<wbr/>To<wbr/>String</a></li><li class="tsd-kind-function"><a href="modules.html#convertToTimestamp" class="tsd-kind-icon">convert<wbr/>To<wbr/>Timestamp</a></li><li class="tsd-kind-function"><a href="modules.html#correctChannelName" class="tsd-kind-icon">correct<wbr/>Channel<wbr/>Name</a></li><li class="tsd-kind-function"><a href="modules.html#decodeValue" class="tsd-kind-icon">decode<wbr/>Value</a></li><li class="tsd-kind-function"><a href="modules.html#deleteMsg" class="tsd-kind-icon">delete<wbr/>Msg</a></li><li class="tsd-kind-function"><a href="modules.html#deniedAnyCapability" class="tsd-kind-icon">denied<wbr/>Any<wbr/>Capability</a></li><li class="tsd-kind-function"><a href="modules.html#expandConfig" class="tsd-kind-icon">expand<wbr/>Config</a></li><li class="tsd-kind-function"><a href="modules.html#expandRateLimitsConfig" class="tsd-kind-icon">expand<wbr/>Rate<wbr/>Limits<wbr/>Config</a></li><li class="tsd-kind-function"><a href="modules.html#expandTransportConfig" class="tsd-kind-icon">expand<wbr/>Transport<wbr/>Config</a></li><li class="tsd-kind-function"><a href="modules.html#extractEventParams" class="tsd-kind-icon">extract<wbr/>Event<wbr/>Params</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findAndPushToEnd" class="tsd-kind-icon">find<wbr/>And<wbr/>Push<wbr/>To<wbr/>End</a></li><li class="tsd-kind-function"><a href="modules.html#getCamelCasedName" class="tsd-kind-icon">get<wbr/>Camel<wbr/>Cased<wbr/>Name</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#getData" class="tsd-kind-icon">get<wbr/>Data</a></li><li class="tsd-kind-function"><a href="modules.html#getIRCChannelName" class="tsd-kind-icon">getIRCChannel<wbr/>Name</a></li><li class="tsd-kind-function"><a href="modules.html#getMods" class="tsd-kind-icon">get<wbr/>Mods</a></li><li class="tsd-kind-function"><a href="modules.html#getParameter" class="tsd-kind-icon">get<wbr/>Parameter</a></li><li class="tsd-kind-function"><a href="modules.html#getVips" class="tsd-kind-icon">get<wbr/>Vips</a></li><li class="tsd-kind-function"><a href="modules.html#handleReconnectMessage" class="tsd-kind-icon">handle<wbr/>Reconnect<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#hasAllStateTags" class="tsd-kind-icon">has<wbr/>All<wbr/>State<wbr/>Tags</a></li><li class="tsd-kind-function"><a href="modules.html#ignoreErrors" class="tsd-kind-icon">ignore<wbr/>Errors</a></li><li class="tsd-kind-function"><a href="modules.html#isAnonymousUsername" class="tsd-kind-icon">is<wbr/>Anonymous<wbr/>Username</a></li><li class="tsd-kind-function"><a href="modules.html#joinAll" class="tsd-kind-icon">join<wbr/>All</a></li><li class="tsd-kind-function"><a href="modules.html#joinChannel" class="tsd-kind-icon">join<wbr/>Channel</a></li><li class="tsd-kind-function"><a href="modules.html#joinNothingToDo" class="tsd-kind-icon">join<wbr/>Nothing<wbr/>To<wbr/>Do</a></li><li class="tsd-kind-function"><a href="modules.html#makeTransport" class="tsd-kind-icon">make<wbr/>Transport</a></li><li class="tsd-kind-function"><a href="modules.html#matchingNotice" class="tsd-kind-icon">matching<wbr/>Notice</a></li><li class="tsd-kind-function"><a href="modules.html#me" class="tsd-kind-icon">me</a></li><li class="tsd-kind-function"><a href="modules.html#parseActionAndMessage" class="tsd-kind-icon">parse<wbr/>Action<wbr/>And<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#parseBadges" class="tsd-kind-icon">parse<wbr/>Badges</a></li><li class="tsd-kind-function"><a href="modules.html#parseColor" class="tsd-kind-icon">parse<wbr/>Color</a></li><li class="tsd-kind-function"><a href="modules.html#parseEmoteSets" class="tsd-kind-icon">parse<wbr/>Emote<wbr/>Sets</a></li><li class="tsd-kind-function"><a href="modules.html#parseEmotes" class="tsd-kind-icon">parse<wbr/>Emotes</a></li><li class="tsd-kind-function"><a href="modules.html#parseFlags" class="tsd-kind-icon">parse<wbr/>Flags</a></li><li class="tsd-kind-function"><a href="modules.html#parseHostedChannelName" class="tsd-kind-icon">parse<wbr/>Hosted<wbr/>Channel<wbr/>Name</a></li><li class="tsd-kind-function"><a href="modules.html#parseHosttargetParameter" class="tsd-kind-icon">parse<wbr/>Hosttarget<wbr/>Parameter</a></li><li class="tsd-kind-function"><a href="modules.html#parseIRCMessage" class="tsd-kind-icon">parseIRCMessage</a></li><li class="tsd-kind-function"><a href="modules.html#parseIntThrowing" class="tsd-kind-icon">parse<wbr/>Int<wbr/>Throwing</a></li><li class="tsd-kind-function"><a href="modules.html#parseSingleBadge" class="tsd-kind-icon">parse<wbr/>Single<wbr/>Badge</a></li><li class="tsd-kind-function"><a href="modules.html#parseTags" class="tsd-kind-icon">parse<wbr/>Tags</a></li><li class="tsd-kind-function"><a href="modules.html#parseTwitchMessage" class="tsd-kind-icon">parse<wbr/>Twitch<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#parseViewerCount" class="tsd-kind-icon">parse<wbr/>Viewer<wbr/>Count</a></li><li class="tsd-kind-function"><a href="modules.html#partChannel" class="tsd-kind-icon">part<wbr/>Channel</a></li><li class="tsd-kind-function"><a href="modules.html#partNothingToDo" class="tsd-kind-icon">part<wbr/>Nothing<wbr/>To<wbr/>Do</a></li><li class="tsd-kind-function"><a href="modules.html#reasonForValue" class="tsd-kind-icon">reason<wbr/>For<wbr/>Value</a></li><li class="tsd-kind-function"><a href="modules.html#removeCommands" class="tsd-kind-icon">remove<wbr/>Commands</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#removeInPlace" class="tsd-kind-icon">remove<wbr/>In<wbr/>Place</a></li><li class="tsd-kind-function"><a href="modules.html#replyToServerPing" class="tsd-kind-icon">reply<wbr/>To<wbr/>Server<wbr/>Ping</a></li><li class="tsd-kind-function"><a href="modules.html#requestCapabilities" class="tsd-kind-icon">request<wbr/>Capabilities</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#requireData" class="tsd-kind-icon">require<wbr/>Data</a></li><li class="tsd-kind-function"><a href="modules.html#requireNickname" class="tsd-kind-icon">require<wbr/>Nickname</a></li><li class="tsd-kind-function"><a href="modules.html#requireParameter" class="tsd-kind-icon">require<wbr/>Parameter</a></li><li class="tsd-kind-function"><a href="modules.html#say" class="tsd-kind-icon">say</a></li><li class="tsd-kind-function"><a href="modules.html#sendClientPings" class="tsd-kind-icon">send<wbr/>Client<wbr/>Pings</a></li><li class="tsd-kind-function"><a href="modules.html#sendLogin" class="tsd-kind-icon">send<wbr/>Login</a></li><li class="tsd-kind-function"><a href="modules.html#sendPing" class="tsd-kind-icon">send<wbr/>Ping</a></li><li class="tsd-kind-function"><a href="modules.html#sendPrivmsg" class="tsd-kind-icon">send<wbr/>Privmsg</a></li><li class="tsd-kind-function"><a href="modules.html#setColor" class="tsd-kind-icon">set<wbr/>Color</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#setDefaults" class="tsd-kind-icon">set<wbr/>Defaults</a></li><li class="tsd-kind-function"><a href="modules.html#splitIntoChunks" class="tsd-kind-icon">split<wbr/>Into<wbr/>Chunks</a></li><li class="tsd-kind-function"><a href="modules.html#tagParserFor" class="tsd-kind-icon">tag<wbr/>Parser<wbr/>For</a></li><li class="tsd-kind-function"><a href="modules.html#timeout" class="tsd-kind-icon">timeout</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#unionSets" class="tsd-kind-icon">union<wbr/>Sets</a></li><li class="tsd-kind-function"><a href="modules.html#validateChannelName" class="tsd-kind-icon">validate<wbr/>Channel<wbr/>Name</a></li><li class="tsd-kind-function"><a href="modules.html#validateIRCCommand" class="tsd-kind-icon">validateIRCCommand</a></li><li class="tsd-kind-function"><a href="modules.html#whisper" class="tsd-kind-icon">whisper</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>